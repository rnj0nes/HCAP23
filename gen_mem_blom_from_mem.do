gen spmem1=mem
gen spmem2 = (max((mem--.2016)^3,0)-(.302-.149)^-1 * (max((mem-.149)^3,0)*(.302--.2016)-max((mem-.302)^3,0)*(.149--.2016))) / (.302--.2016)^2 if missing(mem)~=1
gen spmem3 = (max((mem-.026)^3,0)-(.302-.149)^-1 * (max((mem-.149)^3,0)*(.302-.026)-max((mem-.302)^3,0)*(.149-.026))) / (.302--.2016)^2 if missing(mem)~=1
gen Pmem_blom = -.5324159393546354+spmem1*5.311752878687725+spmem2*.3421383776016784+spmem3*7.063967759198118
* have a nice day
